---
name: do-guide
description: "当用户请求代码改动时自动触发 - 包括「帮我实现」「添加一个」「修改这个」「修复 bug」「加个功能」「写一个方法」「新增接口」「改一下」「优化这段代码」「重构」等表达。识别到代码改动意图后，引导用户走 /do 流程。"
---

# 代码改动意图识别与引导

## 触发条件

当用户的请求匹配以下模式时触发：

**明确的改动请求：**
- "帮我实现 xxx"
- "添加一个 xxx 功能"
- "写一个 xxx 方法"
- "新增 xxx 接口"
- "加个 xxx"

**修改类请求：**
- "修改这个 xxx"
- "改一下 xxx"
- "把 xxx 改成 yyy"
- "更新 xxx"

**修复类请求：**
- "修复这个 bug"
- "fix xxx"
- "解决 xxx 问题"

**优化类请求：**
- "优化这段代码"
- "重构 xxx"
- "简化 xxx"

## 行为

识别到代码改动意图后，**不要直接写代码**，而是：

1. 确认理解用户需求
2. 告知将使用 `/do` 流程来保证代码质量
3. 自动执行 `/bytecoding:do` 命令

## 输出模板

```
我理解你想要 [改动描述]。

为了确保代码符合项目规范，我会：
1. 先找项目中的相似实现作为参考
2. 提取代码模式（命名、错误处理、日志等）
3. 确认方案后再写代码

开始执行...
```

然后调用 `/bytecoding:do` 命令。

## 例外情况

以下情况**不触发**此 skill，直接执行：

- 用户明确说「直接写」「不用找样例」「快速改一下」
- 单行或几行的简单修改（如改个字符串、调个参数）
- 用户已经在 `/do` 流程中

## 核心原则

- **拦截直接写代码的冲动** - 先确认再动手
- **样例驱动** - 让新代码符合项目风格
- **渐进确认** - 确保方向正确再继续
