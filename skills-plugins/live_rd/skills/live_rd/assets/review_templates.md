# live_rd Review 模板

## 通用输出结构
- 明显缺陷：会导致错误或不正确行为的问题
- 风险点：可能导致线上风险的问题
- 建议修改：低风险但建议优化的点
- 并发专项
- 事务专项
- 错误处理专项

## 并发专项模板
关注以下问题：
- goroutine 泄漏（未退出、缺少取消信号）
- channel 误用（关闭时机、重复关闭、无缓冲阻塞）
- 锁/竞态（锁粒度、死锁风险、共享状态未保护）
- context 传递（超时/取消是否正确向下游传播）

## 事务专项模板
关注以下问题：
- 事务边界是否正确（Begin/Commit/Rollback）
- 失败路径是否保证回滚
- 幂等性是否满足（重试/补偿场景）
- 事务内外副作用是否一致

## 错误处理专项模板
关注以下问题：
- 是否吞掉错误或忽略返回值
- 是否正确封装错误（%w）便于定位
- 超时/取消是否透传
- 日志与错误返回是否一致（避免重复或缺失）
