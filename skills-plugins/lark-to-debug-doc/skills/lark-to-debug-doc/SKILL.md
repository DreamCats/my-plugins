---
name: lark-to-debug-doc
description: 当用户需要 "生成联调文档"、"联调文档"、"debug doc"、"lark-to-debug-doc"、"创建联调记录"、"联调模板"、"新建联调文档" 时触发。
---

# 联调文档生成器

## Overview

根据用户输入的项目信息，生成一份标准化的联调 Markdown 文档。适用于字节跳动研发团队的日常联调场景。

生成的文档包含：基础信息、参与人员、接口信息、环境信息、联调记录、联调结论等模块。

## 执行流程

### Step 1: 收集基础信息

使用 `AskUserQuestion` 收集以下信息：

- **项目/需求名称**（必填）：用于文档标题
- **联调日期范围**（可选）：如 `2025-01-10 ~ 2025-01-15`

### Step 2: 收集链接信息

使用 `AskUserQuestion` 或直接让用户输入以下链接（均为可选，用户可跳过）：

- PRD 链接
- Meego 链接
- PPE 环境地址
- Libra 实验链接

用户如果说"跳过"或未提供，则用 `-` 占位。

### Step 3: 收集参与人员

提示用户输入各端负责人（可选，未提供则用 `-` 占位）：

- 后端负责人
- 前端负责人
- 客户端负责人
- QA 负责人

用户可以一次性提供，格式如：`后端: 张三, 前端: 李四, QA: 王五`

### Step 4: 生成 Markdown 文档

使用 `Write` 工具将以下模板填充后写入到用户当前工作目录，文件名格式：`{项目名称}-联调文档.md`

#### 文档模板

```markdown
# {项目名称} 联调文档

## 基础信息

| 类别 | 说明 |
|------|------|
| PRD | {prd_link} |
| Meego | {meego_link} |
| PPE | {ppe_link} |
| Libra | {libra_link} |
| 联调时间 | {start_date} ~ {end_date} |

## 参与人员

| 角色 | 姓名 |
|------|------|
| 后端 | {backend} |
| 前端 | {frontend} |
| 客户端 | {client} |
| QA | {qa} |

## 接口信息

| 接口名称 | 路径 | 方法 | 负责人 | 状态 |
|----------|------|------|--------|------|
| - | - | - | - | 待联调 |
| - | - | - | - | 待联调 |

## 环境信息

- **BOE 地址**: -
- **PPE 地址**: {ppe_link}
- **依赖服务**: -
- **特殊配置（开关/实验参数等）**: -

## 联调时间线

| 阶段 | 时间 | 说明 |
|------|------|------|
| 联调开始 | {start_date} | - |
| 联调结束 | {end_date} | - |

## 联调记录

| 时间 | 问题描述 | 发现人 | 负责人 | 原因分析 | 解决方案 | 状态 |
|------|----------|--------|--------|----------|----------|------|
| - | - | - | - | - | - | 待解决 |
| - | - | - | - | - | - | 待解决 |
| - | - | - | - | - | - | 待解决 |

## 联调结论

- **联调状态**: 进行中
- **遗留问题**: -
- **跟进计划**: -
```

### Step 5: 保存并提示

1. 使用 `Write` 工具将文档写入当前工作目录
2. 告知用户文件已生成，并提示：

> 联调文档已生成！如需推送到飞书，可以使用 `lark-md-to-doc` 命令将 Markdown 转换为飞书云文档。

## 注意事项

- 所有字段都有默认占位值 `-`，用户可以后续在飞书中补充
- 联调记录表预留 3 行空行，方便在飞书中直接添加
- 接口信息表预留 2 行空行
- 文件名使用项目名称，避免中文路径问题时可提示用户修改
- 如果用户一次性提供了所有信息（如在触发时就带了详细描述），则跳过交互式问答，直接生成
